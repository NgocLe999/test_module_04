<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <title>Medicine</title>
</head>
<body class="hold-transition sidebar-mini layout-fixed text-sm">
    <div class="container">
        <div class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1 class="page-title m-0">CHỈNH SỬA THÔNG TIN THUỐC</h1>
                    </div>
                </div>
            </div>
        </div>
                <div class="row">
                    <div class="col-12">
                        <div class="card card-default">
                            <div class="card-body">
                                <form th:action="@{/medicines/details/updated}" th:object="${medicine}" method="post">
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="code">Mã thuốc <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="code"
                                                   name="code"
                                                   placeholder="Nhập mã thuốc"
                                                   th:classappend="${listErrorMes.containsKey('code')} ? 'is-invalid' : ''"
                                                   th:field="*{code}" th:value="*{code}"
                                            >
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('code') ? listErrorMes.get('code') : ''}"
                                            ></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="name">Tên thuốc <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input th:required type="text"
                                                   class="form-control" id="name" name="name"
                                                   placeholder="Nhập tên thuốc"
                                                   th:classappend="${listErrorMes.containsKey('name')} ? 'is-invalid' : ''"
                                                   th:field="*{name}" th:value="*{name}"
                                            >
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('name') ? listErrorMes.get('name') : ''}"></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="activeIngredient">Hoạt chất <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="activeIngredient"
                                                   name="activeIngredient"
                                                   placeholder="Nhập hoạt chất"
                                                   th:classappend="${listErrorMes.containsKey('activeIngredient')} ? 'is-invalid' : ''"
                                                   th:field="*{activeIngredient}" th:value="*{activeIngredient}"
                                            >
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('activeIngredient') ? listErrorMes.get('activeIngredient') : ''}"></strong>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label>Nhóm thuốc <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <select th:field="*{medicineGroup}" id="medicineGroup" class="form-control"
                                                    th:classappend="${listErrorMes.containsKey('medicineGroup')} ? 'is-invalid' : ''">
                                                <option th:value="null" selected>Chọn nhóm thuốc</option>
                                                <option th:each="group : ${medicineGroups}" th:value="${group.id}"
                                                        th:text="${group.name}"></option>
                                            </select>
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('medicineGroup') ? 'Nhóm thuốc không được để trống' : ''}"></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for=expiredDate>Ngày hết hạn <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="expiredDate"
                                                   name="expiredDate" th:field="*{expiredDate}"
                                                   placeholder="Ngày hết hạn"
                                                   th:classappend="${listErrorMes.containsKey('expiredDate')} ? 'is-invalid' : ''"
                                            >
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('expiredDate') ? 'Ngày hết hạn không đúng định dạng' : ''}"></strong>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="unit">Đơn vị <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <select id="unit" class="form-control" name="unit"
                                                    th:classappend="${listErrorMes.containsKey('unit')} ? 'is-invalid' : ''">
                                                <option selected>Hộp</option>
                                                <option>Vỉ</option>
                                                <option>Viên</option>
                                            </select>
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('unit') ? listErrorMes.get('unit') : ''}"></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="conversionUnit">ĐVT quy đổi <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <select id="conversionUnit" class="form-control"
                                                    name="conversionUnit"
                                                    th:classappend="${listErrorMes.containsKey('conversionUnit')} ? 'is-invalid' : ''"
                                            >
                                                <option selected>Gói</option>
                                                <option>Viên</option>
                                                <option>Lọ</option>
                                            </select>
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('conversionUnit') ? listErrorMes.get('conversionUnit') : ''}"></strong>
                                        </div>

                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="conversionRate">Tỷ lệ quy đổi <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="conversionRate"
                                                   name="conversionRate" th:field="*{conversionRate}"
                                                   placeholder="Tỷ lệ quy đổi"
                                                   th:classappend="${listErrorMes.containsKey('conversionRate')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('conversionRate') ? 'Tỷ lệ quy đổi không được để trống' : ''}"></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="quantity">Số lượng <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="quantity" name="quantity"
                                                   th:value="*{quantity}" th:field="*{quantity}"
                                                   placeholder="Số lượng"
                                                   th:classappend="${listErrorMes.containsKey('quantity')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('quantity') ? 'Số lượng không được để trống' : ''}"></strong>
                                        </div>

                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="importPrice">Giá nhập (đồng/hộp)</label>
                                            <input type="text" class="form-control" id="importPrice"
                                                   name="importPrice" th:field="*{importPrice}"
                                                   placeholder="Giá nhập"
                                            >
                                            <!--                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"-->
                                            <!--                                                    th:text="${listErrorMes.containsKey('importPrice') ? listErrorMes.get('importPrice') : ''}"></strong>-->
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="convertedImportPrice">Giá nhập quy đổi <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="convertedImportPrice"
                                                   name="convertedImportPrice" th:field="*{convertedImportPrice}"
                                                   placeholder="Giá nhập quy đổi"
                                                   th:classappend="${listErrorMes.containsKey('convertedImportPrice')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('convertedImportPrice') ? 'Giá nhập quy đổi không được để trống' : ''}"></strong>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="discountRate">Tỷ lệ chiết khấu (%)</label>
                                            <input type="text" class="form-control" id="discountRate"
                                                   name="discountRate" th:field="*{discountRate}"
                                                   placeholder="Tỷ lệ chiết khấu"
                                            >
                                            <!--                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"-->
                                            <!--                                                    th:text="${listErrorMes.containsKey('discountRate') ? listErrorMes.get('discountRate') : ''}"></strong>-->

                                        </div>
                                        <div class="form-group col-12">
                                            <label for="vatRate">VAT (%) <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="vatRate"

                                                   name="vatRate" th:field="*{vatRate}"
                                                   placeholder="VAT"
                                                   th:classappend="${listErrorMes.containsKey('vatRate')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('vatRate') ? '%VAT không được để trống' : ''}"></strong>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="priceWithVat">Nhập có VAT <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="priceWithVat"
                                                   name="priceWithVat" th:field="*{priceWithVat}"
                                                   placeholder="Nhập có VAT "
                                                   th:classappend="${listErrorMes.containsKey('priceWithVat')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('priceWithVat') ? 'Nhập VAT không được để trống' : ''}"></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="convertedPriceWithVat">Nhập quy đổi có VAT <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="convertedPriceWithVat"
                                                   name="convertedPriceWithVat" th:field="*{convertedPriceWithVat}"
                                                   placeholder="Nhập quy đổi có VAT"
                                                   th:classappend="${listErrorMes.containsKey('convertedPriceWithVat')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('convertedPriceWithVat') ? 'Nhập quy đổi có VAT không được để trống' : ''}"></strong>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="retailProfitRate">% Lợi nhuận xuất chẵn <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span></label>
                                            <input type="text" class="form-control" id="retailProfitRate"
                                                   name="retailProfitRate" th:field="*{retailProfitRate}"
                                                   placeholder="% Lợi nhuận xuất chẵn"
                                                   th:classappend="${listErrorMes.containsKey('retailProfitRate')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('retailProfitRate') ? '%Lợi nhuận xuất chẵn không được để trống' : ''}"></strong>
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="wholesaleProfitRate">% Lợi nhuận xuất lẻ</label>
                                            <input type="text" class="form-control" id="wholesaleProfitRate"
                                                   name="wholesaleProfitRate" th:field="*{wholesaleProfitRate}"
                                                   placeholder="% Lợi nhuận xuất lẻ"
                                            >
                                            <!--                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"-->
                                            <!--                                                    th:text="${listErrorMes.containsKey('wholesaleProfitRate') ? listErrorMes.get('wholesaleProfitRate') : ''}"></strong>-->
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="retailPrice">Giá bán lẻ (đồng/hộp)</label>
                                            <input type="text" class="form-control" id="retailPrice"
                                                   name="retailPrice" th:field="*{retailPrice}"
                                                   placeholder="Giá bán lẻ (đồng/hộp)"
                                            >
                                            <!--                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"-->
                                            <!--                                                    th:text="${listErrorMes.containsKey('retailPrice') ? listErrorMes.get('retailPrice') : ''}"></strong>-->
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="wholesalePrice">Giá bán sỉ (đồng/hộp)</label>
                                            <input type="text" class="form-control" id="wholesalePrice"
                                                   name="wholesalePrice" th:field="*{wholesalePrice}"
                                                   placeholder="Giá bán sỉ (đồng/hộp)"
                                            >
                                            <!--                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"-->
                                            <!--                                                    th:text="${listErrorMes.containsKey('wholesalePrice') ? listErrorMes.get('wholesalePrice') : ''}"></strong>-->
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-12">
                                            <label for="supplier">Nhà sản xuất</label>
                                            <select th:field="*{supplier}" id="supplier" class="form-control"
                                            >
                                                <option th:value="null" selected>Chọn nhà sản xuất</option>
                                                <option th:each="group : ${suppliers}" th:value="${group.id}"
                                                        th:text="${group.name}"></option>
                                            </select>
                                            <!--                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"-->
                                            <!--                                                    th:text="${listErrorMes.containsKey('supplier') ? 'Nhà sản xuất không được để trống' : ''}"></strong>-->
                                        </div>
                                        <div class="form-group col-12">
                                            <label for="madein">Xuất xứ <span
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1em;'">(*)</span>
                                            </label>
                                            <input type="text" class="form-control" id="madein" name="madein"
                                                   th:value="*{madein}"
                                                   placeholder="Xuất xứ"
                                                   th:classappend="${listErrorMes.containsKey('madein')} ? 'is-invalid' : ''">
                                            <strong th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    th:text="${listErrorMes.containsKey('madein') ? listErrorMes.get('madein') : ''}"></strong>

                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-12 note">
                                            <label for="description">Ghi chú</label>
                                            <textarea class="form-control" id="description" rows="3" name="description"
                                                      th:field="*{description}"
                                                      placeholder="Nhập ghi chú"
                                            ></textarea>
                                        </div>
                                        <span th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'">(*) Thông tin tin bắt buộc</span>
                                    </div>

                                    <div class="form-row d-flex justify-content-end gap-3">
                                        <div class="form-group d-inline-block mr-4">
                                            <button type="submit"
                                                    class="btn btn-success"
                                                    onclick="return confirm('Bạn có chắc chắn chỉnh sửa không?')">
                                                <i class="fa-solid fa-check"></i>
                                                Hoàn tất chỉnh sửa
                                            </button>
                                        </div>

                                        <div class="form-group d-inline-block">
                                            <a th:onclick="|window.location.href='/medicines/list'|"
                                               class="btn btn-secondary">
                                                <i class="fas fa-arrow-left"></i>
                                                Trở về
                                            </a>
                                        </div>
                                    </div>

                                </form>
                                <div class="toast-container position-absolute top-0 end-0 p-3"
                                     th:attr="style='right: -60px; width: 27%; top: -20px;'"
                                     th:if="${!listErrorMes.isEmpty()}">
                                    <div class="toast text-center fade"
                                         role="alert" aria-live="assertive"
                                         aria-atomic="true" id="toast" th:each="errorMessage : ${listErrorMes}">
                                        <div id="message"
                                             class="toast-body d-flex justify-content-start align-items-baseline">
                                            <i class="fa-solid fa-exclamation-circle"
                                               th:attr="style='color:#dc3545; font-size: 1.2em; margin-right: 10px;'"></i>
                                            <strong
                                                    th:attr="style='font-style: italic; color: #dc3545; font-size: 1.1em;'"
                                                    class="text">
                                                Đã có lỗi xảy ra. Vui lòng thử lại!
                                            </strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>